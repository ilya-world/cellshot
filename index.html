<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CellShot</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <section id="startScreen" class="start-screen">
    <div class="start-screen__glow"></div>
    <div class="start-screen__content">
      <div class="start-hero">
        <div class="start-hero__title">
          <h1>CellShot</h1>
          <p class="subtitle" data-i18n="start.subtitle">Тактический пошаговый grid-шутер для горячего кресла</p>
        </div>
        <div class="start-hero__actions">
          <div class="language-toggle" role="group" aria-label="Language">
            <button type="button" data-lang="ru">Русский</button>
            <button type="button" data-lang="en">English</button>
          </div>
          <button type="button" class="ghost" data-rules-button data-i18n="start.rulesButton">Правила и инструкции</button>
        </div>
        <div class="start-hero__tags">
          <span class="hero-tag" data-i18n="start.tagHotSeat">Hot-seat</span>
          <span class="hero-tag">20x20</span>
          <span class="hero-tag" data-i18n="start.tagTactical">Tactical</span>
        </div>
      </div>

      <div class="start-layout">
        <div class="start-panel map-panel">
          <h2 data-i18n="start.mapTitle">Выбор карты</h2>
          <label>
            <span data-i18n="start.mapLabel">Карта</span>
            <select id="mapSelect"></select>
          </label>
          <div class="map-generated-settings is-hidden" id="generatedMapSettings">
            <label>
              <span data-i18n="start.seedLabel">Seed</span>
              <div class="seed-row">
                <input id="mapSeed" type="text" placeholder="12345" />
                <button type="button" class="ghost" id="mapSeedRandom" data-i18n="start.seedRandom">Случайный</button>
              </div>
            </label>
            <label>
              <span data-i18n="start.wallThicknessLabel">Толщина внешних стен</span>
              <div class="wall-thickness-row">
                <input id="wallThickness" type="range" min="1" max="8" value="1" />
                <span class="range-value" id="wallThicknessValue">1</span>
              </div>
            </label>
          </div>
          <div class="map-preview" id="mapPreview"></div>
          <div class="map-legend">
            <span><span class="legend-dot wall"></span> <span data-i18n="start.legendWalls">Стены</span></span>
            <span><span class="legend-dot river"></span> <span data-i18n="start.legendRiver">Река</span></span>
            <span><span class="legend-dot spawn"></span> <span data-i18n="start.legendSpawn">Спавн</span></span>
          </div>
        </div>

        <div class="start-panel setup-panel">
          <h2 data-i18n="start.squadTitle">Состав отряда</h2>
          <label>
            <span data-i18n="start.playerCountLabel">Количество игроков</span>
            <select id="playerCount">
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4" selected>4</option>
            </select>
          </label>
          <div id="playerTypeList" class="player-type-list"></div>
          <div class="ai-note" data-i18n="start.aiNote">Скоро появится режим AI</div>
          <label>
            <span data-i18n="start.crateLabel">Частота появления ящиков (N ходов)</span>
            <input id="crateInterval" type="number" min="1" value="3" />
          </label>
          <label>
            <span data-i18n="start.fragLimitLabel">Фрагов до победы</span>
            <input id="fragLimit" type="number" min="1" value="10" />
          </label>
          <button id="startGame" class="primary" data-i18n="start.startButton">Начать миссию</button>
        </div>
      </div>
    </div>
  </section>

  <div id="gameShell" class="game-shell">
    <header>
      <div class="title-block">
        <h1>CellShot</h1>
        <p class="subtitle" data-i18n="game.subtitle">Turn-based tactical grid shooter (hot-seat)</p>
      </div>
      <div class="setup game-actions">
        <button id="newGame" data-i18n="game.newGame">New Game</button>
        <button id="resetGame" data-i18n="game.reset">Reset</button>
        <button id="saveGame" data-i18n="game.save">Save</button>
        <button id="loadGame" data-i18n="game.load">Load</button>
        <button type="button" class="ghost" data-rules-button data-i18n="game.rulesButton">Rules & instructions</button>
        <div class="language-toggle" role="group" aria-label="Language">
          <button type="button" data-lang="ru">Русский</button>
          <button type="button" data-lang="en">English</button>
        </div>
      </div>
    </header>

    <main>
    <section class="board-section">
      <div id="boardHeader" class="board-header"></div>
      <div id="grid" class="grid"></div>
      <div class="action-message">
        <h3 data-i18n="game.lastAction">Last action</h3>
        <div id="lastActionMessage" class="action-message-body">—</div>
      </div>
    </section>

    <section class="side-panel">
      <div class="status-panel">
        <h2 data-i18n="game.turnPanel">Turn Panel</h2>
        <div id="turnInfo" class="turn-info"></div>
      </div>

      <div class="controls">
        <h2 data-i18n="game.controlsTitle">Controls</h2>
        <div class="control-section">
          <h3 data-i18n="game.moveTitle">Move</h3>
          <div class="move-pad">
            <span></span>
            <button data-move="up" class="arrow">▲</button>
            <span></span>
            <button data-move="left" class="arrow">◀</button>
            <span class="center-dot">●</span>
            <button data-move="right" class="arrow">▶</button>
            <span></span>
            <button data-move="down" class="arrow">▼</button>
            <span></span>
          </div>
        </div>
        <div class="action-bar">
          <button id="endTurn" class="primary" data-i18n="game.endTurn">End Turn</button>
          <button id="useMedkit" data-i18n="game.useMedkit">Medkit</button>
        </div>
      </div>
    </section>

    <section class="info-panel">
      <div class="players-panel">
        <h2 data-i18n="game.playersTitle">Players</h2>
        <div id="playerSummary" class="players-summary"></div>
      </div>

      <div class="items-panel">
        <h2 data-i18n="game.groundItemsTitle">GROUND ITEMS</h2>
        <div id="groundItems"></div>
      </div>

      <div class="inventory-panel">
        <h2 data-i18n="game.inventoryTitle">Inventory</h2>
        <div id="inventory"></div>
      </div>

      <div class="log-panel">
        <h2 data-i18n="game.logTitle">Log</h2>
        <div id="log"></div>
      </div>
    </section>
    </main>
  </div>

  <div id="rulesModal" class="modal" aria-hidden="true">
    <div class="modal__overlay" data-close-modal></div>
    <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="rulesTitle">
      <button class="modal__close" type="button" aria-label="Close" data-close-modal>×</button>
      <h2 id="rulesTitle"></h2>
      <div id="rulesContent" class="rules-content"></div>
    </div>
  </div>

  <div id="victoryModal" class="modal" aria-hidden="true">
    <div class="modal__overlay" data-close-victory></div>
    <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="victoryTitle">
      <h2 id="victoryTitle" data-i18n="victory.title">Победа!</h2>
      <p id="victoryMessage" class="victory-message"></p>
      <div class="modal__actions">
        <button type="button" class="primary" data-victory-new data-i18n="victory.newGame">Новая игра</button>
        <button type="button" data-victory-continue data-i18n="victory.continue">Продолжить игру</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
